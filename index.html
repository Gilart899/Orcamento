<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Or√ßamento GilFest</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f9fc;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #007BFF, #FFD700);
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 1.5rem;
      font-weight: bold;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 20px;
      font-size: 1.3rem;
    }
    .service {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 6px 0;
    }
    .service i {
      color: #ff6600;
      width: 20px;
      height: 20px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px 0;
      font-size: 1rem;
    }
    .btn.whatsapp {
      background: #25d366;
      color: white;
    }
    .btn.pdf {
      background: #ff4500;
      color: white;
    }
    .btn:hover {
      opacity: 0.9;
    }
    .total {
      font-size: 1.2rem;
      font-weight: bold;
      margin: 15px 0;
    }
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }
    .category {
      border: 1px solid #ddd;
      border-radius: 8px;
      margin: 10px 0;
      overflow: hidden;
    }
    .category-header {
      background: #eee;
      padding: 10px;
      cursor: pointer;
      font-weight: bold;
    }
    .category-content {
      display: none;
      padding: 10px;
    }
    .quantity-control {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-left: auto;
    }
    .quantity-control button {
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 2px 8px;
      cursor: pointer;
    }
    .quantity-control span {
      min-width: 20px;
      text-align: center;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>üéâ Or√ßamento GilFest üéà</header>
  <div class="container">

    <!-- Brinquedos -->
    <div class="category">
      <div class="category-header" onclick="toggleCategory(this)">
        üé™ Brinquedos
      </div>
      <div class="category-content">

        <label class="service">
          <i data-lucide="castle"></i>
          <input type="checkbox" value="180" data-label="Pula-pula Master (Super grande)">
          Pula-pula Master (Super grande) - R$180,00
        </label>

        <label class="service">
          <i data-lucide="castle"></i>
          <input type="checkbox" value="150" data-label="Pula-pula M√©dio">
          Pula-pula M√©dio - R$150,00
        </label>

        <label class="service">
          <i data-lucide="toy-brick"></i>
          <input type="checkbox" value="150" data-label="Piscina de bolinhas">
          Piscina de bolinhas - R$150,00
        </label>

      </div>
    </div>

    <!-- Comidas e Guloseimas -->
    <div class="category">
      <div class="category-header" onclick="toggleCategory(this)">
        üçø Comidas e Guloseimas
      </div>
      <div class="category-content">

        <label class="service">
          <i data-lucide="candy"></i>
          Algod√£o doce no copo 300ml - R$2,50
          <div class="quantity-control">
            <button type="button" onclick="changeQty('algodaoCopo', -1)">-</button>
            <span id="algodaoCopo">0</span>
            <button type="button" onclick="changeQty('algodaoCopo', 1)">+</button>
          </div>
        </label>

        <label class="service">
          <i data-lucide="candy"></i>
          Algod√£o doce no saquinho - R$2,00
          <div class="quantity-control">
            <button type="button" onclick="changeQty('algodaoSaquinho', -1)">-</button>
            <span id="algodaoSaquinho">0</span>
            <button type="button" onclick="changeQty('algodaoSaquinho', 1)">+</button>
          </div>
        </label>

        <label class="service">
          <i data-lucide="popcorn"></i>
          <input type="checkbox" value="200" data-label="Pipoca com leite condensado">
          Pipoca com leite condensado - R$200,00
        </label>

      </div>
    </div>

    <!-- Extras -->
    <div class="category">
      <div class="category-header" onclick="toggleCategory(this)">
        üéà Extras
      </div>
      <div class="category-content">
        <label class="service">
          <i data-lucide="balloon"></i>
          <input type="checkbox" value="80" data-label="Anima√ß√£o com bal√£o">
          Anima√ß√£o com bal√£o - R$80,00
        </label>
      </div>
    </div>

    <!-- Observa√ß√µes -->
    <h2>Servi√ßo Extra / Observa√ß√µes</h2>
    <textarea id="extra" placeholder="Digite aqui o servi√ßo desejado ou observa√ß√µes..." rows="4"></textarea>

    <!-- Total -->
    <div class="total">Total: R$<span id="total">0.00</span></div>

    <!-- Bot√µes -->
    <button class="btn pdf" onclick="gerarPDF()">
      <i data-lucide="file-text"></i> Gerar PDF
    </button>
    <button class="btn whatsapp" onclick="enviarWhatsApp()">
      <i data-lucide="message-circle"></i> Pedir Or√ßamento
    </button>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    lucide.createIcons();

    let quantities = {
      algodaoCopo: 0,
      algodaoSaquinho: 0
    };

    function changeQty(item, delta) {
      if (quantities[item] + delta >= 0) {
        quantities[item] += delta;
        document.getElementById(item).innerText = quantities[item];
        updateTotal();
      }
    }

    function updateTotal() {
      let total = 0;
      let items = [];

      document.querySelectorAll('input[type="checkbox"]:checked').forEach(el => {
        total += parseFloat(el.value);
        items.push(el.getAttribute("data-label") + " - R$" + parseFloat(el.value).toFixed(2));
      });

      if (quantities.algodaoCopo > 0) {
        let subtotal = quantities.algodaoCopo * 2.5;
        total += subtotal;
        items.push(`Algod√£o doce no copo 300ml x${quantities.algodaoCopo} - R$${subtotal.toFixed(2)}`);
      }

      if (quantities.algodaoSaquinho > 0) {
        let subtotal = quantities.algodaoSaquinho * 2.0;
        total += subtotal;
        items.push(`Algod√£o doce no saquinho x${quantities.algodaoSaquinho} - R$${subtotal.toFixed(2)}`);
      }

      document.getElementById("total").innerText = total.toFixed(2);
      return { total, items };
    }

    function toggleCategory(header) {
      const content = header.nextElementSibling;
      content.style.display = content.style.display === "block" ? "none" : "block";
    }

    async function gerarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const { total, items } = updateTotal();
      let y = 20;

      doc.setFontSize(16);
      doc.text("Or√ßamento GilFest", 20, y);
      y += 10;

      doc.setFontSize(12);
      items.forEach(item => {
        doc.text(item, 20, y);
        y += 8;
      });

      doc.text("Total: R$" + total.toFixed(2), 20, y + 10);
      doc.save("orcamento_gilfest.pdf");
    }

    function enviarWhatsApp() {
      const { total, items } = updateTotal();
      const extra = document.getElementById('extra').value;

      let mensagem = `*Pedido de Or√ßamento GilFest*%0A%0A`;
      items.forEach(item => mensagem += "‚Ä¢ " + item + "%0A");
      mensagem += `%0ATotal: R$${total.toFixed(2)}%0A`;

      if (extra.trim()) {
        mensagem += `%0AObserva√ß√µes: ${extra}`;
      }

      let numeroWhats = "5579999145044";
      let url = `https://wa.me/${numeroWhats}?text=${mensagem}`;
      window.open(url, "_blank");
    }
  </script>
</body>
          </html>
