<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>GilFest ‚Äî Or√ßamentos & Contratos</title>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <!-- Lucide icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root{--blue:#007bff;--yellow:#ffd200;--green:#25d366}
    body{font-family:Arial,Helvetica,sans-serif;background:#f6f8fb;margin:0;padding:20px}
    header{background:linear-gradient(90deg,var(--blue),#ffd500);color:#fff;padding:18px;border-radius:8px;text-align:center;font-weight:700}
    .container{max-width:900px;margin:18px auto;background:#fff;padding:18px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.06)}
    h2{margin:12px 0;color:var(--blue)}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .col{flex:1;min-width:220px}
    input,textarea,select{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px;box-sizing:border-box}
    .category{border:1px solid #e3e6ea;border-radius:8px;overflow:hidden;margin:10px 0}
    .category-header{background:#f0f6ff;padding:10px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;font-weight:700}
    .category-content{display:none;padding:10px}
    .service{display:flex;align-items:center;gap:10px;padding:8px 4px;border-bottom:1px dashed #efefef}
    .service:last-child{border-bottom:none}
    .service input[type="checkbox"]{transform:scale(1.1)}
    .qty{margin-left:auto;display:flex;align-items:center;gap:6px}
    .qty button{padding:6px 8px;border-radius:6px;border:none;background:var(--blue);color:white;cursor:pointer}
    .small{font-size:13px;color:#555}
    .total {text-align:right;font-weight:800;font-size:18px;margin-top:12px;color:var(--blue)}
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    .btn.whatsapp{background:var(--green);color:#fff}
    .btn.pdf{background:var(--blue);color:#fff}
    .btn.contract{background:#ff8a00;color:#fff}
    /* signature */
    .sig-pad{border:1px solid #ccc;border-radius:8px;height:140px;background:#fff;touch-action: none}
    label.inline{display:flex;align-items:center;gap:8px}
    footer.note{margin-top:14px;font-size:13px;color:#666}
    @media(max-width:640px){ .row{flex-direction:column} .qty{margin-left:8px} }
  </style>
</head>
<body>
  <header><span style="font-size:20px">üéâ GilFest ‚Äî Or√ßamentos & Contratos</span></header>

  <div class="container">
    <h2>Dados do Cliente</h2>
    <div class="row">
      <div class="col"><input id="nomeCliente" type="text" placeholder="Nome do Cliente"></div>
      <div class="col"><input id="telefoneCliente" type="tel" placeholder="Telefone (WhatsApp)"></div>
      <div class="col" style="max-width:200px"><input id="dataEvento" type="date" placeholder="Data do Evento"></div>
    </div>
    <div style="margin-top:8px"><input id="enderecoEvento" type="text" placeholder="Endere√ßo do Evento"></div>

    <h2>Configura√ß√µes</h2>
    <div class="row">
      <div class="col" style="max-width:220px"><label class="small">Valor hora extra (R$)</label><input id="valorHoraExtra" type="number" value="100"></div>
      <div class="col" style="max-width:220px"><label class="small">Horas extras</label><input id="horasExtras" type="number" value="0"></div>
      <div class="col" style="max-width:220px"><label class="small">Percentual de sinal (%)</label><input id="percentualSinal" type="number" value="20"></div>
      <div class="col" style="max-width:200px"><label class="small">Data de emiss√£o</label><input id="dataEmissao" type="date"></div>
    </div>

    <!-- categorias -->
    <h2>Servi√ßos</h2>

    <div class="category">
      <div class="category-header" onclick="toggleCat(this)"> <span class="toggle-icon">‚ûï</span> üé™ Brinquedos </div>
      <div class="category-content">
        <div class="service"><input type="checkbox" data-label="Pula-pula Master (Super grande)" value="180"><div>Pula-pula Master (Super grande) - R$180,00</div></div>
        <div class="service"><input type="checkbox" data-label="Pula-pula M√©dio" value="150"><div>Pula-pula M√©dio - R$150,00</div></div>
        <div class="service"><input type="checkbox" data-label="Piscina de bolinhas" value="150"><div>Piscina de bolinhas - R$150,00</div></div>
      </div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCat(this)"> <span class="toggle-icon">‚ûï</span> üç≠ Comidas e Guloseimas </div>
      <div class="category-content">
        <div class="service"><input type="checkbox" data-label="Algod√£o doce no copo 300ml" value="2.5" class="quantCheck"><div>Algod√£o doce no copo (300ml) - R$2,50</div><div class="qty"><button onclick="changeSmallQty(this,-1)">-</button><span class="smallQty">0</span><button onclick="changeSmallQty(this,1)">+</button></div></div>
        <div class="service"><input type="checkbox" data-label="Algod√£o doce no saquinho" value="2" class="quantCheck"><div>Algod√£o doce no saquinho - R$2,00</div><div class="qty"><button onclick="changeSmallQty(this,-1)">-</button><span class="smallQty">0</span><button onclick="changeSmallQty(this,1)">+</button></div></div>
        <div class="service"><input type="checkbox" data-label="M√°quina de Algod√£o Doce no evento" value="200"><div>M√°quina de Algod√£o Doce no evento - R$200,00</div></div>
        <div class="service"><input type="checkbox" data-label="Churro (ilimitado)" value="399"><div>Churro (ilimitado) - R$399,00</div></div>
        <div class="service"><input type="checkbox" data-label="Crepe Su√≠√ßo (ilimitado)" value="399"><div>Crepe Su√≠√ßo (ilimitado) - R$399,00</div></div>
        <div class="service"><input type="checkbox" data-label="Cascata de chocolate (grande)" value="1200"><div>Cascata de chocolate (grande) - R$1200,00</div></div>
        <div class="service"><input type="checkbox" data-label="Cascata de chocolate (pequena)" value="399"><div>Cascata de chocolate (pequena) - R$399,00</div></div>
      </div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCat(this)"><span class="toggle-icon">‚ûï</span> üéâ Extras </div>
      <div class="category-content">
        <div class="service"><input type="checkbox" data-label="Anima√ß√£o com bal√µes (a combinar)" value="0"><div>Anima√ß√£o com bal√µes (a combinar)</div></div>
      </div>
    </div>

    <h2>Observa√ß√µes / Servi√ßo extra</h2>
    <textarea id="extra" rows="3" placeholder="Digite observa√ß√µes extras"></textarea>

    <div class="total">Total calculado: R$ <span id="totalVal">0.00</span></div>

    <div class="controls">
      <button class="btn pdf" onclick="gerarOrcamentoPDF()">üìÑ Or√ßamento PDF</button>
      <button class="btn contract" onclick="gerarContratoPDF()">üìë Contrato PDF</button>
      <button class="btn whatsapp" onclick="enviarWhatsApp()">üì≤ WhatsApp</button>
    </div>

    <hr style="margin-top:18px">

    <h2>Logo</h2>
    <img id="logoImg" src="logo.png" alt="LOGO GilFest" style="max-width:240px;border-radius:8px;display:block;margin-bottom:8px">

    <h2>Assinatura digital (cliente)</h2>
    <canvas id="sigCanvas" class="sig-pad" width="820" height="140"></canvas>
    <div style="margin-top:6px"><button onclick="clearSignature()" class="btn">Limpar assinatura</button></div>
  </div>

  <script>
    // Fun√ß√µes JavaScript (mesmas que passei antes, sem mudan√ßas)...
    // [AQUI entram todas as fun√ß√µes: toggleCat, changeSmallQty, calcularTotal, collectItems, enviarWhatsApp, gerarOrcamentoPDF, gerarContratoPDF, assinatura digital]
    // Para n√£o estourar a resposta, mantenho igual ao c√≥digo anterior ‚Äî basta colar TODAS as fun√ß√µes que te entreguei na vers√£o anterior.
  </script>
</body>
        </html>
